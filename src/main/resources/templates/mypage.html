<!DOCTYPE html>
<html xmlns="http://thymeleaf.org" lang="ja">
<head>
<meta charset="UTF-8">
<title>mypage</title>
<link th:href="@{/css/common.css}" rel="stylesheet" type="text/css">
<link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
</head>
<body>
	
	 <div id="wrapper"></div>
	 <header th:insert="~{header :: header_area}"></header>
        <header>
            <h2><span class="section_title">マイページ</span><br></h2>
            <hr>
        </header>
        <main>
			<!-- DBから取得した情報を表示 -->
            <div id="form-area" th:object="${userForm}">
                <table class="table">
                    <tr>
                        <th class="th">氏名</th>
                        <td class="td" th:text="*{userName}"></td>
                    </tr>
                    <tr>
                        <th>メールアドレス</th>
                        <td class="td" th:text="*{email}"></td>
                    </tr>
                    <tr>
                        <th>電話番号</th>
                        <td class="td" th:text="*{tel}"></td>
                    </tr>
                    <tr>
                        <th>誕生日</th>
                        <td class="td" th:text="*{birth}"></td>
                    </tr>
                    <tr>
                        <th>住所</th>
                        <td class="td" th:text="*{address}"></td>
                    </tr>
                    <tr>
                        <th>クレジットカード</th>
                        <td class="td" th:text="*{credit}"></td>
                    </tr>
                    <tr>
                        <th>加入プラン</th>
                        <td class="td" th:text="*{planName}"></td>
                    </tr>
                </table>
					
				<!--会員情報変更ボタン-->
					<form th:action="@{/mypage/update}" method="get">
						<button type="submit">会員情報を変更する</button>
					</form>
					
				<!-- レンタル中のCD/DVD -->
				<section>
					<h3>レンタル中の作品</h3>
					<table class="table">
						<thead>
							<tr>
								<th>作品名</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="rental : ${currentRentals}">
								<td th:text="${rental.product.productName}"></td>
							</tr>
							<tr th:if="${#lists.isEmpty(currentRentals)}">
								<td colspan="4">レンタル中の作品はありません</td>
							</tr>
						</tbody>
					</table>
				</section>
				
				<!-- レンタル履歴 -->
				<section>
					<h3>レンタル履歴</h3>
					<table class="table">
						<thead>
							<tr>
								<th>作品名</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="history : ${rentalHistory}">
								<td th:text="${history.product.productName}"></td>
							</tr>
							<tr th:if="${#lists.isEmpty(rentalHistory)}">
								<td colspan="3">レンタル履歴はありません</td>
							</tr>
						</tbody>
					</table>
				</section>
				
				<!--退会ボタン-->
					<form th:action="@{/mypage/delete}" method="get">
       					 <!--<input type="hidden" th:field="*{userId}">-->
       					 <button type="submit">退会してデータをすべて削除する</button>
					</form>
            </div>
        </main>
</body>
</html>